---
globs: apps/web/**,*.tsx
description: フロントエンドUI（App Router, テーブル/グラフ, 一貫性）
---
# フロントエンドUI 実装ルール

参照: [設計書.md](mdc:設計書.md)「2. 各ページ詳細」「5. 色・可視化ルール」「6. インタラクション仕様」

## App Router
- ルート: `/dashboard`, `/products`, `/products/[sku]`, `/alerts`
- データ取得はサーバコンポーネント/サーバルート経由（GAS鍵非露出）

## コンポーネント設計
- KPIカード・テーブル・グラフは再利用可能なコンポーネントへ分割。
- 色/アイコンは共通のマップで管理し、状態表現を統一。

## インタラクション
- 粒度切替（日/週/月）、日付範囲、検索/フィルタは URL クエリに同期。
- ランキング/アラートのクリックは SKU 詳細へ遷移。
- ピン留めはローカルストレージで永続化。

## パフォーマンス
- 大規模テーブルは仮想化（必要なら）。
- チャートは軽量構成（データ前処理はサーバ側）

このルールは `apps/web/**` と TSX に適用されます。

